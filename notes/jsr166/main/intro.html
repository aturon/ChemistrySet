<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
 <head>
   <title>JSR 166 Introduction.</title>
  </head>

  <body bgcolor="#ffffee" vlink="#0000aa" link="#cc0000">
  <h1>JSR 166 Introduction.</h1>

  by <a href="http://gee.cs.oswego.edu/dl">Doug Lea</a>
  <p>

This is maintenance repository of JSR166 specifications.  For further
information, go to: <A
HREF="http://altair.cs.oswego.edu/mailman/listinfo/concurrency-interest">
http://altair.cs.oswego.edu/mailman/listinfo/concurrency-interest</A>.

<p><em>Note: The javadocs here do <em>not</em> include pre-existing
java classes (for example <tt>java.lang.Thread</tt>) that were changed
as part of the JSR166 spec.  On the other hand, the javadocs here do
include some existing java.util Collection interfaces and classes that
are not part of the spec, but are included because some new methods
implement or inherit from their specifications.
</em>

<p> JSR-166 introduces package <tt>java.util.concurrent</tt>
containing utility classes commonly useful in concurrent
programming. Like package <tt>java.util</tt>, it includes a few small
standardized extensible frameworks, as well as other classes that
provide useful functionality and are otherwise tedious or difficult to
implement.

<p>JSR-166 focusses on breadth, providing critical functionality
useful across a wide range of concurrent programming styles and
applications, ranging from low-level atomic operations, to
customizable locks and synchronization aids, to various concurrent
data structures, to high-level execution agents including thread
pools. This diversity reflects the range of contexts in which
developers of concurrent programs have been found to require or desire
support not previously available in J2SE, which also keeping the
resulting package small; providing only functionality that has been
found to be worthwhile to standardize.

<p>Descriptions and brief motivations for the main components may be
found in the associated package documentation.  JSR-166 also includes
a few changes and additions in packages outside of
java.util.concurrent.  Here are brief descriptions.

<h2>Queues</h2>

A basic (nonblocking) {@link java.util.Queue} interface extending
{@link java.util.Collection} is introduced into
<tt>java.util</tt>. Existing class {@link java.util.LinkedList} is
adapted to support Queue, and a new non-thread-safe {@link
java.util.PriorityQueue} is added.

<h2>Threads</h2>

Three minor changes are introduced to the {@link java.lang.Thread}
class:
<ul>
  <li> It now allows per-thread installation of handlers for uncaught
  exceptions. Ths optionally disassociates handlers from ThreadGroups,
  which has proven to be too inflexible. (Note that the combination of
  features in JSR-166 make ThreadGroups even less likely to be used in
  most programs. Perhaps they will eventually be deprecated.)

  <li> Access checks are no longer required when a Thread interrupts
  <em>itself</em>.  The <tt>interrupt</tt> method is the only way to
  re-assert a thread's interruption status (and in the case of
  self-interruption has no other effect than this).  The check here
  previously caused unjustifiable and uncontrollable failures when
  restricted code invoked library code that must reassert interruption
  to correctly propagate status when encountering some
  <tt>InterruptedExceptions</tt>.
  <li> The <tt>destroy</tt> method, which has never been implemented,
  has finally been deprecated. This is just a spec change, reflecting
  the fact that that the reason it has never been implemented is that
  it was undesirable and unworkable.
</ul>

<h2>Timing</h2>

Method <tt>nanoTime</tt> is added to {@link java.lang.System}. It
provides a high-precision timing facility that is distinct from and
uncoordinated with <tt>System.currentTimeMillis</tt>.

<h2>Removing ThreadLocals</h2>

The {@link java.lang.ThreadLocal} class now supports a means to remove
a ThreadLocal, which is needed in some thread-pool and worker-thread
designs.



  <hr>
 </body>
</html>
